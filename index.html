<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<link rel="icon" type="image/png" href="icon.png">
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#00f6ff">
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>NotifyMe Pro ‚Äì Complete Productivity App</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Orbitron:wght@500&display=swap" rel="stylesheet">
<style>
:root{
  --bg:#0b0f14;
  --card:rgba(255,255,255,0.08);
  --primary:#00f6ff;
  --secondary:#7cff6b;
  --danger:#ff4d4d;
  --text:#e6f1ff;
  --muted:#9aa4b2;
}
*{box-sizing:border-box}
body{margin:0;font-family:Inter;background:var(--bg);color:var(--text);cursor: url(normal.cur),auto;}
body::before{content:"";position:fixed;inset:0;background-image:radial-gradient(rgba(0,246,255,.15)1.2px,transparent 1px);background-size:32px 32px;animation:bg 25s linear infinite;z-index:-1}
@keyframes bg{to{background-position:400px 0}}

.app{max-width:1200px;margin:auto;display:grid;grid-template-columns:260px 1fr;min-height:100vh}

aside{padding:20px;border-right:1px solid rgba(255,255,255,.1)}
aside h1{font-family:Orbitron;color:var(--primary);margin-bottom:30px}
aside div{padding:12px;border-radius:12px;color:var(--muted);cursor:url(select.cur),pointer}
aside div.active{background:rgba(0,246,255,.15);color:var(--primary)}

main{padding:20px;overflow-y:auto}

.card{background:linear-gradient(135deg,var(--card),transparent);border:1px solid rgba(255,255,255,.15);border-radius:18px;padding:18px;margin-bottom:18px;transition:.25s}
.card:hover{transform:translateY(-3px)}

input,select,button{width:100%;padding:12px;border-radius:12px;border:none;outline:none;font-size:.9rem}
input,select{background:rgba(255,255,255,.1);color:var(--text);margin-bottom:10px}
button{background:linear-gradient(90deg,var(--primary),var(--secondary));font-weight:600;cursor:url(select.cur),pointer}
button:active{transform:scale(.97)}

ul{list-style:none;padding:0;margin:0}
li{background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.12);padding:14px;border-radius:14px;display:flex;justify-content:space-between;align-items:center;margin-bottom:10px;transition:.2s;cursor:url(select.cur),pointer}
li:hover{transform:scale(1.01)}
li.done{text-decoration:line-through;opacity:.6}
.time{font-size:.75rem;color:var(--muted)}
.actions span{margin-left:10px;cursor:url(select.cur),pointer}

.stats{display:flex;gap:12px}
.stats div{flex:1;text-align:center}

.focus{text-align:center}
.timer{font-size:2.8rem;font-family:Orbitron;margin:10px 0}
.progress{height:8px;background:rgba(255,255,255,.1);border-radius:10px;overflow:hidden}
.progress div{height:100%;width:0;background:linear-gradient(90deg,var(--primary),var(--secondary))}

@media(max-width:900px){.app{grid-template-columns:1fr}aside{display:none}}
</style>
</head>
<body>
<div class="app">

<aside>
<h1>NotifyMe</h1>
<div class="active" onclick="showTab('tasks')">Tasks</div>
<div onclick="showTab('focus')">Focus</div>
<div onclick="showTab('profile')">Profile</div>
</aside>

<main>

<!-- TASKS -->
<section id="tasks" class="tab">
<div class="card">
<input id="task" placeholder="New task">
<input id="time" type="datetime-local">
<select id="repeat">
<option style="background-color: #0b0f14;" value="none">No Repeat</option>
<option style="background-color: #0b0f14;" value="daily">Daily</option>
<option style="background-color: #0b0f14;" value="weekly">Weekly</option>
</select>
<select id="priority">
<option style="background-color: #0b0f14;" value="Low">Low Priority</option>
<option style="background-color: #0b0f14;" value="Medium">Medium Priority</option>
<option style="background-color: #0b0f14;" value="High">High Priority</option>
</select>
<button onclick="addTodo()">Add Task</button>
</div>

<ul id="list"></ul>

<div class="card stats">
<div>Total<br><b id="total">0</b></div>
<div>Completed<br><b id="done">0</b></div>
<div>Pending<br><b id="pending">0</b></div>
</div>

<div class="card">
<button onclick="exportPDF()">Export Tasks as PDF</button>
<button style="margin-top:10px" onclick="clearCompleted()">Clear Completed</button>
</div>
</section>

<!-- FOCUS -->
<section id="focus" class="tab" style="display:none">
<div class="card focus">
<h3>Focus Mode (Pomodoro)</h3>
<div class="timer" id="timer">25:00</div>
<div class="progress"><div id="bar"></div></div>
<button style="margin-top:12px" onclick="startFocus()">Start Focus</button>
<button style="margin-top:8px" onclick="stopFocus()">Stop</button>
</div>
</section>

<!-- PROFILE -->
<section id="profile" class="tab" style="display:none">
<div class="card">
<h3>Profile</h3>
<p class="time">Offline-first ‚Ä¢ No login required</p>
<p class="time">Data stored locally on your device</p>
<p class="time">Android / iOS / Desktop compatible</p>
<button onclick="resetAll()">Reset App Data</button>
</div>
</section>

</main>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<script>
if('Notification'in window)Notification.requestPermission();
let todos=JSON.parse(localStorage.getItem('todos')||'[]');
let focusInt,seconds=1500,totalFocus=1500;

function save(){localStorage.setItem('todos',JSON.stringify(todos))}

function showTab(id){document.querySelectorAll('.tab').forEach(t=>t.style.display='none');document.getElementById(id).style.display='block';document.querySelectorAll('aside div').forEach(d=>d.classList.remove('active'));event.target.classList.add('active')}

function render(){list.innerHTML='';let d=0;todos.forEach((t,i)=>{if(t.done)d++;const li=document.createElement('li');if(t.done)li.classList.add('done');li.innerHTML=`<div onclick="toggle(${i})">${t.text} <small>(${t.priority})</small><div class='time'>${new Date(t.time).toLocaleString()} ${t.repeat!='none'?'‚Ä¢ '+t.repeat:''}</div></div><div class='actions'><span onclick="editTodo(${i})">‚úè</span><span onclick="removeTodo(${i})">üóë</span></div>`;list.appendChild(li)});total.textContent=todos.length;done.textContent=d;pending.textContent=todos.length-d}

function addTodo(){if(!task.value||!time.value)return;const t={text:task.value,time:time.value,repeat:repeat.value,priority:priority.value,done:false};todos.push(t);schedule(t);save();render();task.value='';time.value='';}
function toggle(i){todos[i].done=!todos[i].done;save();render()}
function removeTodo(i){todos.splice(i,1);save();render()}
function editTodo(i){const n=prompt('Edit task',todos[i].text);if(n){todos[i].text=n;save();render()}}
function clearCompleted(){todos=todos.filter(t=>!t.done);save();render()}
function resetAll(){if(confirm('Reset all data?')){todos=[];save();render()}}

function schedule(t){const d=new Date(t.time)-new Date();if(d>0)setTimeout(()=>notify(t),d)}
function notify(t){if(Notification.permission==='granted')new Notification('Reminder',{body:t.text});if(t.repeat!='none'){const n=new Date(t.time);if(t.repeat=='daily')n.setDate(n.getDate()+1);if(t.repeat=='weekly')n.setDate(n.getDate()+7);t.time=n.toISOString().slice(0,16);schedule(t);save();render()}}

function startFocus(){clearInterval(focusInt);seconds=1500;totalFocus=1500;focusInt=setInterval(()=>{seconds--;timer.textContent=Math.floor(seconds/60)+":"+String(seconds%60).padStart(2,'0');bar.style.width=((totalFocus-seconds)/totalFocus*100)+'%';if(seconds<=0){clearInterval(focusInt);new Notification('Focus Complete');}},1000)}
function stopFocus(){clearInterval(focusInt);timer.textContent='25:00';bar.style.width='0%'}

function exportPDF(){const{jsPDF}=window.jspdf;const pdf=new jsPDF();pdf.text('NotifyMe Tasks',10,10);let y=20;todos.forEach((t,i)=>{pdf.text(`${i+1}. ${t.text} [${t.priority}] - ${t.done?'Done':'Pending'}`,10,y);y+=10});pdf.save('NotifyMe_Tasks.pdf')}

// Service Worker Registration
if('serviceWorker' in navigator){window.addEventListener('load',()=>{navigator.serviceWorker.register('sw.js');})}

todos.forEach(schedule);render();
</script>
</body>
</html>
